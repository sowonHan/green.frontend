<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>객체 생성자 함수</title>
</head>
<body>
    <p>객체 = 함수(메소드) + 속성 이라고 했었다.</p>

    <h2>일반 function 형태의 객체 생성 방법</h2>
    <p>교재 예시 function_10 파일 참고</p>
    <script>
/*         function Tv(color, size) { // 객체 정의. function이라고 썼지만 함수가 아니다! 객체명이니까 파스칼케이스로 단어마다 대문자
            // 속성
            // this.를 쓰는 순간 '얘는 이 객체의 속성이다'라고 선언하는 것이다.
            this.color = color;
            this.size = size;
            this.onOff = false;
            // '객체가 생성될 때 매개변수 값이 할당된다'고 해서 '생성자'라고 부르는 것이다.

            // 함수
            this.colorPrint = function(newColor) { // 함수명이니까 카멜케이스로 맨 앞은 소문자 뒷단어는 대문자. 여기의 function은 진짜로 함수
                console.log(`컬러는 ${this.color} 새로운 컬러는 ${newColor}`);
            };
            this.colorSize = function(sizeUp) {
                const newSize = this.size + sizeUp;
                console.log(`사이즈는 ${this.size} 새로운 사이즈는 ${newSize}`);
                return newSize;
            };
            this.turnOn = function() {
                this.onOff = true;
            };
            this.turnOff = function() {
                this.onOff = false;
            };
        }

        const tv = new Tv('black', 50); // 객체 생성. new가 있으면 무조건 객체를 생성한다는 뜻
        const tv2 = new Tv('white', 60); // 객체 생성. Tv라는 코드를 복사해와서 tv와 tv2라는 객체 박스에 담은 것.

        tv.colorPrint('white');
        const newSize = tv.colorSize(10);
        console.log(newSize);

        tv.turnOn();
        console.log(tv.onOff);

        tv.turnOff();
        console.log(tv.onOff);

        console.log('====================');

        tv2.colorPrint('pink');
        tv2.colorSize(5);
        tv2.turnOn();
        tv2.turnOff();
 */

        /* 교재 93p, 폴더 내 0317_2 파일 참고!
        let today = new Date();
        let nowDay = today.getDay();
        였던 것도 위와 똑같다. Date()도 뜯어보면 위에서 만든 Tv()처럼 속성과 함수가 있는 것이다. */

        /* 굳이 코드를 매번 작성하지 않아도 미리 정의해둔 객체를 생성하기만 하면 여러 곳에서 코딩할 때 편하게 쓸 수 있다. (재사용성)
        그러나 이 방식은 코드를 복사해다 넣는 방식.
        그러니 같은 코드가 2,3개씩 있는 꼴이 되어 한 코드로 객체를 여러 개 생성할수록 메모리를 많이 잡아먹게 된다.
        그래서 나온 방식이 prototype. */

    </script>

    <h2>prototype 형태의 객체 생성 방법</h2>
    <p>교재 151p 그림 참고. 현재 바닐라 스크립트의 내장 객체는 거의 대부분 prototype이라고 보면 된다.</p>
    <script>
/*         function Tv(color, size) { //위처럼 실제 함수 아님
            // 속성
            this.color = color;
            this.size = size;
            this.onOff = false;
        }

        // Tv의 함수
        Tv.prototype.colorPrint = function(newColor) {
            console.log(`컬러는 ${this.color} 새로운 컬러는 ${newColor}`);
        };

        Tv.prototype.colorSize = function(sizeUp) {
            const newSize = this.size + sizeUp;
            console.log(`사이즈는 ${this.size} 새로운 사이즈는 ${newSize}`);
            return newSize;
        };

        Tv.prototype.turnOn = function() {
            this.onOff = true;
        };

        Tv.prototype.turnOff = function() {
            this.onOff = false;
        };

        // 객체 생성과 출력 방식은 동일하다

        const tv = new Tv('black', 50);
        const tv2 = new Tv('white', 60);

        tv.colorPrint('white');
        const newSize = tv.colorSize(10);
        console.log(newSize);

        tv.turnOn();
        console.log(tv.onOff);

        tv.turnOff();
        console.log(tv.onOff);

        console.log('====================');

        tv2.colorPrint('pink');
        tv2.colorSize(5);
        tv2.turnOn();
        tv2.turnOff();
 */        
    </script>

    <h2>ES6 class 형태의 객체 생성 방법</h2>
    <p>study 폴더 내 es_10_class 파일 참고</p>
    <script>
        class Tv {
            constructor(color, size) { // constructor가 생성자 형성하는 기능
                this.color = color;
                this.size = size;
                this.onOff = false;
            }
            
            colorPrint(newColor) {
                console.log(`컬러는 ${this.color} 새로운 컬러는 ${newColor}`);
            };

            colorSize(sizeUp) {
                const newSize = this.size + sizeUp;
            console.log(`사이즈는 ${this.size} 새로운 사이즈는 ${newSize}`);
            return newSize;
            };

            turnOn() {
                this.onOff = true;
            };

            turnOff() {
                this.onOff = false;
            };
        }

        // 생성 및 실행 방법은 똑같다

        const tv = new Tv('black', 50);
        const tv2 = new Tv('white', 60);

        tv.colorPrint('white');
        const newSize = tv.colorSize(10);
        console.log(newSize);

        tv.turnOn();
        console.log(tv.onOff);

        tv.turnOff();
        console.log(tv.onOff);

        console.log('====================');

        tv2.colorPrint('pink');
        tv2.colorSize(5);
        tv2.turnOn();
        tv2.turnOff();
    </script>
</body>
</html>